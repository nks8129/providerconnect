(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[350],{18884:function(e,t,s){Promise.resolve().then(s.bind(s,14419))},31047:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(68755).Z)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},91723:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(68755).Z)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},3577:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(68755).Z)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]])},14419:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return k}});var a=s(57437),n=s(2265),l=s(27648),r=s(13041),i=s(89345),c=s(92369),d=s(31047),o=s(91723),m=s(73247),u=s(3577),h=s(32489),x=s(40279),f=s(12381),p=s(69174),g=s(79820),j=s(90641),N=s(32060),y=s(11508),v=s(62571),b=s(66749),w=s(65432),C=s(93448);function k(){let{interactions:e}=(0,y.useInteractionsStore)(),{providers:t}=(0,v.useProvidersStore)(),{openModal:s}=(0,b.HB)(),[k,S]=(0,n.useState)(""),[Z,O]=(0,n.useState)({type:[],sentiment:[]}),M=(0,n.useMemo)(()=>{let s=e;if(k.length>=2){let e=k.toLowerCase();s=s.filter(s=>{let a=t.find(e=>e.id===s.providerId);return s.summary.toLowerCase().includes(e)||s.notes.toLowerCase().includes(e)||(null==a?void 0:a.name.toLowerCase().includes(e))||(null==a?void 0:a.npi.includes(e))})}return Z.type.length>0&&(s=s.filter(e=>Z.type.includes(e.type))),Z.sentiment.length>0&&(s=s.filter(e=>Z.sentiment.includes(e.sentiment))),s.sort((e,t)=>new Date(t.occurredAt).getTime()-new Date(e.occurredAt).getTime())},[e,k,Z,t]),A=Z.type.length>0||Z.sentiment.length>0,P=e=>{O(t=>({...t,type:t.type.includes(e)?t.type.filter(t=>t!==e):[...t.type,e]}))},I=e=>{O(t=>({...t,sentiment:t.sentiment.includes(e)?t.sentiment.filter(t=>t!==e):[...t.sentiment,e]}))},D=e=>{switch(e){case"call":return(0,a.jsx)(r.Z,{className:"w-5 h-5 text-blue-600"});case"email":return(0,a.jsx)(i.Z,{className:"w-5 h-5 text-green-600"});case"meeting":return(0,a.jsx)(c.Z,{className:"w-5 h-5 text-purple-600"});case"outreach":return(0,a.jsx)(d.Z,{className:"w-5 h-5 text-orange-600"});default:return(0,a.jsx)(o.Z,{className:"w-5 h-5 text-slate-600"})}},L=e=>{switch(e){case"call":return"bg-blue-100";case"email":return"bg-green-100";case"meeting":return"bg-purple-100";case"outreach":return"bg-orange-100";default:return"bg-slate-100"}};return(0,a.jsxs)("div",{className:"h-full flex flex-col",children:[(0,a.jsxs)("div",{className:"p-4 bg-white border-b border-slate-200",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-xl font-semibold text-slate-900",children:"Interaction Log"}),(0,a.jsxs)("p",{className:"text-sm text-slate-500 mt-1",children:[M.length," interaction",1!==M.length?"s":""]})]}),(0,a.jsxs)(f.z,{onClick:()=>s("create_interaction"),children:[(0,a.jsx)(r.Z,{className:"w-4 h-4 mr-2"}),"Log Interaction"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)(m.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,a.jsx)(x.I,{type:"search",placeholder:"Search interactions...",value:k,onChange:e=>S(e.target.value),className:"pl-9"})]}),(0,a.jsxs)(N.h_,{children:[(0,a.jsx)(N.$F,{asChild:!0,children:(0,a.jsxs)(f.z,{variant:"outline",className:(0,C.cn)(A&&"border-primary-500"),children:[(0,a.jsx)(u.Z,{className:"w-4 h-4 mr-2"}),"Filters",A&&(0,a.jsx)(p.C,{variant:"default",size:"sm",className:"ml-2",children:Z.type.length+Z.sentiment.length})]})}),(0,a.jsxs)(N.AW,{align:"end",className:"w-56",children:[(0,a.jsx)(N.Ju,{children:"Type"}),["call","email","meeting","outreach"].map(e=>(0,a.jsx)(N.bO,{checked:Z.type.includes(e),onCheckedChange:()=>P(e),children:e.charAt(0).toUpperCase()+e.slice(1)},e)),(0,a.jsx)(N.VD,{}),(0,a.jsx)(N.Ju,{children:"Sentiment"}),["positive","neutral","negative","frustrated"].map(e=>(0,a.jsx)(N.bO,{checked:Z.sentiment.includes(e),onCheckedChange:()=>I(e),children:e.charAt(0).toUpperCase()+e.slice(1)},e)),A&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(N.VD,{}),(0,a.jsxs)(f.z,{variant:"ghost",size:"sm",className:"w-full justify-start",onClick:()=>{O({type:[],sentiment:[]})},children:[(0,a.jsx)(h.Z,{className:"w-4 h-4 mr-2"}),"Clear all filters"]})]})]})]})]})]}),(0,a.jsx)(j.x,{className:"flex-1 p-4",children:(0,a.jsxs)("div",{className:"space-y-3",children:[M.map(e=>{let s=t.find(t=>t.id===e.providerId);return(0,a.jsx)(g.Zb,{children:(0,a.jsx)(g.aY,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[(0,a.jsx)("div",{className:(0,C.cn)("w-10 h-10 rounded-full flex items-center justify-center shrink-0",L(e.type)),children:D(e.type)}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("p",{className:"text-sm font-medium capitalize",children:[e.direction," ",e.type]}),(0,a.jsx)(p.C,{variant:e.sentiment,size:"sm",children:e.sentiment})]}),(0,a.jsxs)("p",{className:"text-xs text-slate-500 mt-1",children:[(0,w.WU)(new Date(e.occurredAt),"MMM d, yyyy h:mm a"),e.duration>0&&" • ".concat(e.duration," min")]})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:e.caseId&&(0,a.jsx)(l.default,{href:"/cases?selected=".concat(e.caseId),children:(0,a.jsx)(p.C,{variant:"outline",size:"sm",className:"cursor-pointer hover:bg-slate-100",children:e.caseId})})})]}),s&&(0,a.jsx)(l.default,{href:"/providers/".concat(s.id),children:(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-2 text-sm text-primary-600 hover:text-primary-700",children:[(0,a.jsx)(c.Z,{className:"w-4 h-4"}),s.name,(0,a.jsxs)("span",{className:"text-slate-400",children:["• NPI: ",s.npi]})]})}),(0,a.jsx)("p",{className:"text-sm mt-2",children:e.summary}),e.notes&&(0,a.jsx)("p",{className:"text-sm text-slate-600 mt-2",children:e.notes})]})]})})},e.id)}),0===M.length&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(r.Z,{className:"w-12 h-12 mx-auto mb-4 text-slate-200"}),(0,a.jsx)("p",{className:"text-slate-500",children:"No interactions found"})]})]})})]})}},79820:function(e,t,s){"use strict";s.d(t,{Ol:function(){return i},SZ:function(){return d},Zb:function(){return r},aY:function(){return o},ll:function(){return c}});var a=s(57437),n=s(2265),l=s(93448);let r=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("rounded-lg border border-slate-200 bg-white shadow-card",s),...n})});r.displayName="Card";let i=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-4",s),...n})});i.displayName="CardHeader";let c=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("h3",{ref:t,className:(0,l.cn)("font-semibold text-slate-900 leading-none tracking-tight",s),...n})});c.displayName="CardTitle";let d=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("p",{ref:t,className:(0,l.cn)("text-sm text-slate-500",s),...n})});d.displayName="CardDescription";let o=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("p-4 pt-0",s),...n})});o.displayName="CardContent",n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-4 pt-0",s),...n})}).displayName="CardFooter"},66749:function(e,t,s){"use strict";s.d(t,{HB:function(){return r}});var a=s(3011);let n=0,l=0,r=(0,a.U)((e,t)=>({assistPanelOpen:!0,assistPanelContext:null,assistPanelLoading:!1,activeModal:null,modalData:null,globalSearchOpen:!1,globalSearchQuery:"",sidebarCollapsed:!1,notifications:[],toasts:[],toggleAssistPanel:()=>e(e=>({assistPanelOpen:!e.assistPanelOpen})),setAssistPanelOpen:t=>e({assistPanelOpen:t}),setAssistContext:t=>e({assistPanelContext:t}),setAssistLoading:t=>e({assistPanelLoading:t}),openModal:(t,s)=>e({activeModal:t,modalData:null!=s?s:null}),closeModal:()=>e({activeModal:null,modalData:null}),toggleGlobalSearch:()=>e(e=>({globalSearchOpen:!e.globalSearchOpen,globalSearchQuery:e.globalSearchOpen?"":e.globalSearchQuery})),setGlobalSearchQuery:t=>e({globalSearchQuery:t}),toggleSidebar:()=>e(e=>({sidebarCollapsed:!e.sidebarCollapsed})),setSidebarCollapsed:t=>e({sidebarCollapsed:t}),addNotification:t=>{let s="notif_".concat(++l),a={...t,id:s,timestamp:new Date().toISOString(),read:!1};e(e=>({notifications:[a,...e.notifications].slice(0,50)}))},removeNotification:t=>e(e=>({notifications:e.notifications.filter(e=>e.id!==t)})),clearNotifications:()=>e({notifications:[]}),addToast:s=>{var a;let l="toast_".concat(++n),r={...s,id:l,duration:null!==(a=s.duration)&&void 0!==a?a:5e3};e(e=>({toasts:[...e.toasts,r]})),r.duration&&r.duration>0&&setTimeout(()=>{t().removeToast(l)},r.duration)},removeToast:t=>e(e=>({toasts:e.toasts.filter(e=>e.id!==t)}))}))}},function(e){e.O(0,[220,685,810,319,400,728,606,971,117,744],function(){return e(e.s=18884)}),_N_E=e.O()}]);