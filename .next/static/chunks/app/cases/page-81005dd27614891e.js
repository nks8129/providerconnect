(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[668],{38435:function(e,s,t){Promise.resolve().then(t.bind(t,59472))},3577:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(68755).Z)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]])},92369:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(68755).Z)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},59472:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return G}});var a=t(57437),i=t(2265),l=t(99376),r=t(73247),n=t(3577),d=t(32489),c=t(40279),o=t(12381),m=t(69174),x=t(90641),h=t(32060),u=t(92210),p=t(62571),f=t(35729),j=t(16980),v=t(93448);function N(e){let{caseData:s,className:t,showLabel:l=!1}=e,[,r]=(0,i.useState)(0);if((0,i.useEffect)(()=>{let e=setInterval(()=>{r(e=>e+1)},6e4);return()=>clearInterval(e)},[]),"resolved"===s.status||"closed"===s.status)return null;let n=(0,j.Gg)(s),d=(0,j.EE)(s);return(0,a.jsxs)(m.C,{variant:n,className:(0,v.cn)("shrink-0 tabular-nums",t),children:[l&&"SLA: ",d.formatted]})}var g=t(50303),y=t(94311);let b=[{id:"all",name:"All Cases",filters:{}},{id:"my_queue",name:"My Queue",filters:{assignee:["me"]}},{id:"unassigned",name:"Unassigned",filters:{assignee:["unassigned"]}},{id:"breaching",name:"Breaching SLA",filters:{slaState:["at_risk","breached"]}}];function w(){let{cases:e,selectedCaseId:s,selectCase:t,currentFilters:l,setFilters:w,clearFilters:C}=(0,u.useCasesStore)(),{providers:k}=(0,p.useProvidersStore)(),{currentUser:S,users:z}=(0,f.qr)(),[A,Z]=(0,i.useState)(""),[P,R]=(0,i.useState)("all"),_=(0,i.useMemo)(()=>{var s,t;let a=e;if(A){let e=A.toLowerCase();a=a.filter(s=>{let t=k.find(e=>e.id===s.providerId);return s.id.toLowerCase().includes(e)||s.title.toLowerCase().includes(e)||(null==t?void 0:t.name.toLowerCase().includes(e))||(null==t?void 0:t.npi.includes(e))})}let i=b.find(e=>e.id===P);return(null==i?void 0:null===(s=i.filters.assignee)||void 0===s?void 0:s.includes("me"))?a=a.filter(e=>e.assigneeId===(null==S?void 0:S.id)):(null==i?void 0:null===(t=i.filters.assignee)||void 0===t?void 0:t.includes("unassigned"))?a=a.filter(e=>!e.assigneeId):(null==i?void 0:i.filters.slaState)&&(a=a.filter(e=>{var s;let t=(0,j.Gg)(e);return null===(s=i.filters.slaState)||void 0===s?void 0:s.includes(t)})),l.status.length>0&&(a=a.filter(e=>l.status.includes(e.status))),l.priority.length>0&&(a=a.filter(e=>l.priority.includes(e.priority))),l.category.length>0&&(a=a.filter(e=>l.category.includes(e.category))),a=a.sort((e,s)=>new Date(s.updatedAt).getTime()-new Date(e.updatedAt).getTime())},[e,A,P,l,S,k]),D=l.status.length>0||l.priority.length>0||l.category.length>0,L=e=>{w({status:l.status.includes(e)?l.status.filter(s=>s!==e):[...l.status,e]})},M=e=>{w({priority:l.priority.includes(e)?l.priority.filter(s=>s!==e):[...l.priority,e]})},I=e=>{w({category:l.category.includes(e)?l.category.filter(s=>s!==e):[...l.category,e]})};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"p-4 border-b border-slate-200",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)(r.Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),(0,a.jsx)(c.I,{type:"search",placeholder:"Search cases...",value:A,onChange:e=>Z(e.target.value),className:"pl-9"})]}),(0,a.jsxs)(h.h_,{children:[(0,a.jsx)(h.$F,{asChild:!0,children:(0,a.jsx)(o.z,{variant:"outline",size:"icon",className:(0,v.cn)(D&&"border-primary-500"),children:(0,a.jsx)(n.Z,{className:"w-4 h-4"})})}),(0,a.jsxs)(h.AW,{align:"end",className:"w-56",children:[(0,a.jsx)(h.Ju,{children:"Status"}),["open","in_progress","pending_provider","resolved","closed"].map(e=>(0,a.jsx)(h.bO,{checked:l.status.includes(e),onCheckedChange:()=>L(e),children:e.replace("_"," ")},e)),(0,a.jsx)(h.VD,{}),(0,a.jsx)(h.Ju,{children:"Priority"}),["urgent","high","medium","low"].map(e=>(0,a.jsx)(h.bO,{checked:l.priority.includes(e),onCheckedChange:()=>M(e),children:e},e)),(0,a.jsx)(h.VD,{}),(0,a.jsx)(h.Ju,{children:"Category"}),g.aA.slice(0,5).map(e=>(0,a.jsx)(h.bO,{checked:l.category.includes(e.id),onCheckedChange:()=>I(e.id),children:e.name},e.id)),D&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.VD,{}),(0,a.jsxs)(o.z,{variant:"ghost",size:"sm",className:"w-full justify-start",onClick:C,children:[(0,a.jsx)(d.Z,{className:"w-4 h-4 mr-2"}),"Clear filters"]})]})]})]})]}),(0,a.jsx)("div",{className:"flex gap-1 mt-3 overflow-x-auto",children:b.map(e=>(0,a.jsx)(o.z,{variant:P===e.id?"secondary":"ghost",size:"sm",onClick:()=>R(e.id),className:"shrink-0 text-xs",children:e.name},e.id))})]}),(0,a.jsxs)("div",{className:"px-4 py-2 text-xs text-slate-500 border-b border-slate-200",children:[_.length," case",1!==_.length?"s":""]}),(0,a.jsx)(x.x,{className:"flex-1",children:(0,a.jsxs)("div",{className:"divide-y divide-slate-100",children:[_.map(e=>{let i=k.find(s=>s.id===e.providerId),l=z.find(s=>s.id===e.assigneeId),r=s===e.id;return(0,a.jsx)("div",{onClick:()=>t(e.id),className:(0,v.cn)("p-4 cursor-pointer transition-colors hover:bg-slate-50",r&&"bg-primary-50 border-l-2 border-l-primary-500"),children:(0,a.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,a.jsx)("span",{className:"text-xs font-mono text-primary-600",children:e.id}),(0,a.jsx)(m.C,{variant:e.status,size:"sm",children:e.status.replace("_"," ")}),(0,a.jsx)(m.C,{variant:e.priority,size:"sm",children:e.priority})]}),(0,a.jsx)("p",{className:"text-sm font-medium text-slate-900 mt-1 line-clamp-2",children:e.title}),(0,a.jsx)("p",{className:"text-xs text-slate-500 mt-1 truncate",children:(null==i?void 0:i.name)||"Unknown Provider"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-2 text-xs text-slate-400",children:[(0,a.jsx)("span",{children:(0,y.Q)(new Date(e.updatedAt),{addSuffix:!0})}),l&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{children:l.name.split(" ")[0]})]})]})]}),(0,a.jsx)(N,{caseData:e})]})},e.id)}),0===_.length&&(0,a.jsx)("div",{className:"p-8 text-center text-slate-500",children:(0,a.jsx)("p",{className:"text-sm",children:"No cases found"})})]})})]})}var C=t(37806),k=t(53417),S=t(44743),z=t(68755);let A=(0,z.Z)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]),Z=(0,z.Z)("pause",[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]]);var P=t(30401);let R=(0,z.Z)("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);var _=t(92369),D=t(13041),L=t(89345),M=t(83774),I=t(48736),O=t(91723);let E=(0,z.Z)("square-check-big",[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var Q=t(58896),U=t(99397),V=t(17168),F=t(79820),T=t(31366),q=t(96246),B=t(11508),Y=t(65432);function W(e){var s,t;let{caseData:l}=e,{providers:r}=(0,p.useProvidersStore)(),{users:n,getAuditEventsForEntity:d,currentUser:N}=(0,f.qr)(),{getInteractionsByCase:b}=(0,B.useInteractionsStore)(),{updateStatus:w,assignCase:z,pauseSLA:W,resumeSLA:H,addTask:G,completeTask:$}=(0,u.useCasesStore)(),[J,X]=(0,i.useState)(""),[K,ee]=(0,i.useState)("overview"),es=r.find(e=>e.id===l.providerId),et=n.find(e=>e.id===l.assigneeId),ea=g.aA.find(e=>e.id===l.category),ei=(0,j.Gg)(l),el=(0,j.EE)(l),er=(0,j.B1)(l),en=d("case",l.id),ed=b(l.id),ec=()=>{J.trim()&&(G(l.id,J.trim()),X(""))};return(0,a.jsxs)("div",{className:"h-full flex flex-col",children:[(0,a.jsxs)("div",{className:"p-4 bg-white border-b border-slate-200",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,a.jsx)("span",{className:"text-sm font-mono text-primary-600",children:l.id}),(0,a.jsx)(m.C,{variant:l.status,children:l.status.replace("_"," ")}),(0,a.jsx)(m.C,{variant:l.priority,children:l.priority}),(0,a.jsx)(m.C,{variant:"outline",children:l.channel})]}),(0,a.jsx)("h1",{className:"text-lg font-semibold text-slate-900 mt-2",children:l.title})]}),"resolved"!==l.status&&"closed"!==l.status&&(0,a.jsxs)("div",{className:(0,v.cn)("px-4 py-2 rounded-lg text-center shrink-0","on_track"===ei&&"bg-green-50 border border-green-200","at_risk"===ei&&"bg-yellow-50 border border-yellow-200","breached"===ei&&"bg-red-50 border border-red-200"),children:[(0,a.jsx)("p",{className:(0,v.cn)("text-lg font-bold","on_track"===ei&&"text-green-700","at_risk"===ei&&"text-yellow-700","breached"===ei&&"text-red-700"),children:el.formatted}),(0,a.jsxs)("p",{className:"text-xs text-slate-500",children:["SLA ",ei.replace("_"," ")]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[et?(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(q.qE,{className:"w-8 h-8",children:(0,a.jsx)(q.Q5,{className:"text-xs",children:et.name.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2)})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:et.name}),(0,a.jsx)("p",{className:"text-xs text-slate-500",children:"Assigned"})]})]}):(0,a.jsxs)(o.z,{variant:"outline",size:"sm",onClick:()=>{let e=n.filter(e=>"specialist"===e.role&&e.skills.includes(l.category));if(e.length>0){let s=e[Math.floor(Math.random()*e.length)];z(l.id,s.id)}},children:[(0,a.jsx)(C.Z,{className:"w-4 h-4 mr-2"}),"Auto-Assign"]}),(0,a.jsxs)(h.h_,{children:[(0,a.jsx)(h.$F,{asChild:!0,children:(0,a.jsx)(o.z,{variant:"ghost",size:"sm",children:"Reassign"})}),(0,a.jsx)(h.AW,{children:n.filter(e=>"specialist"===e.role).map(e=>(0,a.jsx)(h.Xi,{onClick:()=>z(l.id,e.id),children:e.name},e.id))})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(o.z,{variant:"outline",size:"sm",children:[(0,a.jsx)(k.Z,{className:"w-4 h-4 mr-2"}),"Log Interaction"]}),(0,a.jsxs)(o.z,{variant:"outline",size:"sm",children:[(0,a.jsx)(S.Z,{className:"w-4 h-4 mr-2"}),"Send Email"]}),l.sla.pausedAt?(0,a.jsxs)(o.z,{variant:"outline",size:"sm",onClick:()=>H(l.id),children:[(0,a.jsx)(A,{className:"w-4 h-4 mr-2"}),"Resume SLA"]}):(0,a.jsxs)(o.z,{variant:"outline",size:"sm",onClick:()=>W(l.id,"Waiting on Provider"),children:[(0,a.jsx)(Z,{className:"w-4 h-4 mr-2"}),"Pause SLA"]}),(0,a.jsxs)(o.z,{variant:"success",size:"sm",children:[(0,a.jsx)(P.Z,{className:"w-4 h-4 mr-2"}),"Resolve"]}),(0,a.jsxs)(h.h_,{children:[(0,a.jsx)(h.$F,{asChild:!0,children:(0,a.jsx)(o.z,{variant:"ghost",size:"icon-sm",children:(0,a.jsx)(R,{className:"w-4 h-4"})})}),(0,a.jsxs)(h.AW,{align:"end",children:[(0,a.jsx)(h.Xi,{onClick:()=>w(l.id,"closed"),children:"Close Case"}),(0,a.jsx)(h.VD,{}),(0,a.jsx)(h.Xi,{className:"text-red-600",children:"Delete Case"})]})]})]})]})]}),(0,a.jsx)("div",{className:"px-4 py-3 bg-slate-50 border-b border-slate-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)(_.Z,{className:"w-5 h-5 text-primary-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-slate-900",children:(null==es?void 0:es.name)||"Unknown Provider"}),(0,a.jsxs)("div",{className:"flex items-center gap-3 text-xs text-slate-500",children:[(0,a.jsxs)("span",{children:["NPI: ",null==es?void 0:es.npi]}),(0,a.jsx)("span",{children:"•"}),(0,a.jsxs)("span",{children:["Tax ID: ",null==es?void 0:es.taxId]})]})]})]}),es&&(0,a.jsxs)("div",{className:"flex items-center gap-4 text-xs text-slate-500",children:[es.contacts[0]&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(D.Z,{className:"w-3 h-3"}),es.contacts[0].phone]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(L.Z,{className:"w-3 h-3"}),es.contacts[0].email]})]}),es.addresses[0]&&(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(M.Z,{className:"w-3 h-3"}),es.addresses[0].city,", ",es.addresses[0].state]})]})]})}),(0,a.jsxs)(V.mQ,{value:K,onValueChange:ee,className:"flex-1 flex flex-col overflow-hidden",children:[(0,a.jsx)("div",{className:"px-4 border-b border-slate-200 bg-white",children:(0,a.jsxs)(V.dr,{className:"bg-transparent h-12 p-0 gap-4",children:[(0,a.jsxs)(V.SP,{value:"overview",className:"data-[state=active]:bg-transparent data-[state=active]:shadow-none data-[state=active]:border-b-2 data-[state=active]:border-primary-500 rounded-none",children:[(0,a.jsx)(I.Z,{className:"w-4 h-4 mr-2"}),"Overview"]}),(0,a.jsxs)(V.SP,{value:"activity",className:"data-[state=active]:bg-transparent data-[state=active]:shadow-none data-[state=active]:border-b-2 data-[state=active]:border-primary-500 rounded-none",children:[(0,a.jsx)(O.Z,{className:"w-4 h-4 mr-2"}),"Activity"]}),(0,a.jsxs)(V.SP,{value:"interactions",className:"data-[state=active]:bg-transparent data-[state=active]:shadow-none data-[state=active]:border-b-2 data-[state=active]:border-primary-500 rounded-none",children:[(0,a.jsx)(k.Z,{className:"w-4 h-4 mr-2"}),"Interactions (",ed.length,")"]}),(0,a.jsxs)(V.SP,{value:"tasks",className:"data-[state=active]:bg-transparent data-[state=active]:shadow-none data-[state=active]:border-b-2 data-[state=active]:border-primary-500 rounded-none",children:[(0,a.jsx)(E,{className:"w-4 h-4 mr-2"}),"Tasks (",l.tasks.length,")"]}),(0,a.jsxs)(V.SP,{value:"resolution",className:"data-[state=active]:bg-transparent data-[state=active]:shadow-none data-[state=active]:border-b-2 data-[state=active]:border-primary-500 rounded-none",children:[(0,a.jsx)(Q.Z,{className:"w-4 h-4 mr-2"}),"Resolution"]})]})}),(0,a.jsx)(x.x,{className:"flex-1",children:(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsxs)(V.nU,{value:"overview",className:"mt-0 space-y-4",children:[(0,a.jsxs)(F.Zb,{children:[(0,a.jsx)(F.Ol,{className:"pb-2",children:(0,a.jsx)(F.ll,{className:"text-sm font-medium",children:"Case Details"})}),(0,a.jsxs)(F.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-slate-500",children:"Category"}),(0,a.jsx)("p",{className:"text-sm font-medium",children:(null==ea?void 0:ea.name)||l.category})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-slate-500",children:"Subcategory"}),(0,a.jsx)("p",{className:"text-sm font-medium",children:(null==ea?void 0:null===(s=ea.subcategories.find(e=>e.id===l.subcategory))||void 0===s?void 0:s.name)||l.subcategory})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-slate-500",children:"Line of Business"}),(0,a.jsx)("p",{className:"text-sm font-medium",children:l.lob.replace("lob_","")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-slate-500",children:"Channel"}),(0,a.jsx)("p",{className:"text-sm font-medium capitalize",children:l.channel})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-slate-500",children:"Created"}),(0,a.jsx)("p",{className:"text-sm font-medium",children:(0,Y.WU)(new Date(l.createdAt),"MMM d, yyyy h:mm a")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-slate-500",children:"Last Updated"}),(0,a.jsx)("p",{className:"text-sm font-medium",children:(0,y.Q)(new Date(l.updatedAt),{addSuffix:!0})})]})]}),(0,a.jsx)(T.Z,{}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-slate-500 mb-1",children:"Summary"}),(0,a.jsx)("p",{className:"text-sm",children:l.summary})]}),l.tags.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(T.Z,{}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-slate-500 mb-2",children:"Tags"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-1",children:l.tags.map(e=>(0,a.jsx)(m.C,{variant:"outline",size:"sm",children:e},e))})]})]})]})]}),(0,a.jsxs)(F.Zb,{children:[(0,a.jsx)(F.Ol,{className:"pb-2",children:(0,a.jsx)(F.ll,{className:"text-sm font-medium",children:"SLA Progress"})}),(0,a.jsx)(F.aY,{children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-slate-500",children:"Due Date"}),(0,a.jsx)("span",{className:"font-medium",children:(0,Y.WU)(new Date(l.sla.dueAt),"MMM d, yyyy h:mm a")})]}),(0,a.jsx)("div",{className:"h-2 bg-slate-100 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:(0,v.cn)("h-full transition-all","on_track"===ei&&"bg-green-500","at_risk"===ei&&"bg-yellow-500","breached"===ei&&"bg-red-500"),style:{width:"".concat(Math.min(er,100),"%")}})}),(0,a.jsxs)("p",{className:"text-xs text-slate-500",children:[er.toFixed(0),"% of SLA time used",l.sla.pausedAt&&" (paused)"]})]})})]})]}),(0,a.jsx)(V.nU,{value:"activity",className:"mt-0",children:(0,a.jsxs)("div",{className:"space-y-4",children:[en.slice(0,20).map(e=>{let s=n.find(s=>s.id===e.actorId);return(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-slate-100 rounded-full flex items-center justify-center shrink-0",children:(0,a.jsx)(O.Z,{className:"w-4 h-4 text-slate-400"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("p",{className:"text-sm",children:[(0,a.jsx)("span",{className:"font-medium",children:(null==s?void 0:s.name)||"System"})," ",e.description]}),(0,a.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:(0,y.Q)(new Date(e.timestamp),{addSuffix:!0})})]})]},e.id)}),0===en.length&&(0,a.jsx)("p",{className:"text-sm text-slate-500 text-center py-8",children:"No activity yet"})]})}),(0,a.jsx)(V.nU,{value:"interactions",className:"mt-0",children:(0,a.jsxs)("div",{className:"space-y-4",children:[ed.map(e=>(0,a.jsx)(F.Zb,{children:(0,a.jsxs)(F.aY,{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:(0,v.cn)("w-8 h-8 rounded-full flex items-center justify-center","call"===e.type&&"bg-blue-100","email"===e.type&&"bg-green-100"),children:"call"===e.type?(0,a.jsx)(D.Z,{className:"w-4 h-4 text-blue-600"}):(0,a.jsx)(L.Z,{className:"w-4 h-4 text-green-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-sm font-medium capitalize",children:[e.direction," ",e.type]}),(0,a.jsxs)("p",{className:"text-xs text-slate-500",children:[(0,Y.WU)(new Date(e.occurredAt),"MMM d, yyyy h:mm a"),e.duration>0&&" • ".concat(e.duration," min")]})]})]}),(0,a.jsx)(m.C,{variant:e.sentiment,size:"sm",children:e.sentiment})]}),(0,a.jsx)("p",{className:"text-sm mt-3",children:e.summary})]})},e.id)),0===ed.length&&(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(k.Z,{className:"w-12 h-12 mx-auto mb-2 text-slate-200"}),(0,a.jsx)("p",{className:"text-sm text-slate-500",children:"No interactions linked to this case"}),(0,a.jsx)(o.z,{variant:"outline",size:"sm",className:"mt-4",children:"Log Interaction"})]})]})}),(0,a.jsx)(V.nU,{value:"tasks",className:"mt-0",children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(c.I,{placeholder:"Add a new task...",value:J,onChange:e=>X(e.target.value),onKeyDown:e=>"Enter"===e.key&&ec()}),(0,a.jsx)(o.z,{onClick:ec,children:(0,a.jsx)(U.Z,{className:"w-4 h-4"})})]}),l.tasks.map(e=>(0,a.jsxs)("div",{className:(0,v.cn)("flex items-center gap-3 p-3 rounded-lg border",e.completed?"bg-slate-50 border-slate-200":"bg-white border-slate-200"),children:[(0,a.jsx)("button",{onClick:()=>!e.completed&&$(l.id,e.id),className:(0,v.cn)("w-5 h-5 rounded border-2 flex items-center justify-center shrink-0",e.completed?"bg-green-500 border-green-500":"border-slate-300 hover:border-primary-500"),children:e.completed&&(0,a.jsx)(P.Z,{className:"w-3 h-3 text-white"})}),(0,a.jsx)("span",{className:(0,v.cn)("text-sm flex-1",e.completed&&"line-through text-slate-400"),children:e.title}),e.completed&&e.completedAt&&(0,a.jsx)("span",{className:"text-xs text-slate-400",children:(0,y.Q)(new Date(e.completedAt),{addSuffix:!0})})]},e.id)),0===l.tasks.length&&(0,a.jsx)("p",{className:"text-sm text-slate-500 text-center py-4",children:"No tasks yet"})]})}),(0,a.jsx)(V.nU,{value:"resolution",className:"mt-0",children:l.resolution.resolvedAt?(0,a.jsxs)(F.Zb,{children:[(0,a.jsx)(F.Ol,{children:(0,a.jsxs)(F.ll,{className:"text-sm font-medium flex items-center gap-2",children:[(0,a.jsx)(P.Z,{className:"w-4 h-4 text-green-500"}),"Case Resolved"]})}),(0,a.jsxs)(F.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-slate-500",children:"Root Cause"}),(0,a.jsx)("p",{className:"text-sm font-medium",children:l.resolution.rootCause||"Not specified"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-slate-500",children:"Disposition"}),(0,a.jsx)("p",{className:"text-sm font-medium",children:l.resolution.disposition||"Not specified"})]})]}),l.resolution.summary&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-slate-500 mb-1",children:"Resolution Summary"}),(0,a.jsx)("p",{className:"text-sm",children:l.resolution.summary})]}),l.resolution.prevention&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-slate-500 mb-1",children:"Prevention Recommendation"}),(0,a.jsx)("p",{className:"text-sm",children:l.resolution.prevention})]}),(0,a.jsxs)("div",{className:"text-xs text-slate-500",children:["Resolved ",(0,y.Q)(new Date(l.resolution.resolvedAt),{addSuffix:!0}),l.resolution.resolvedBy&&(0,a.jsxs)(a.Fragment,{children:[" by ",null===(t=n.find(e=>e.id===l.resolution.resolvedBy))||void 0===t?void 0:t.name]})]})]})]}):(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)(Q.Z,{className:"w-12 h-12 mx-auto mb-2 text-slate-200"}),(0,a.jsx)("p",{className:"text-sm text-slate-500 mb-4",children:"Case not yet resolved"}),(0,a.jsxs)(o.z,{children:[(0,a.jsx)(P.Z,{className:"w-4 h-4 mr-2"}),"Resolve Case"]})]})})]})})]})]})}var H=t(66749);function G(){let e=(0,l.useSearchParams)(),{cases:s,selectedCaseId:t,selectCase:r}=(0,u.useCasesStore)(),{setAssistContext:n}=(0,H.HB)();(0,i.useEffect)(()=>{let s=e.get("selected");s&&r(s)},[e,r]),(0,i.useEffect)(()=>{if(t){let e=s.find(e=>e.id===t);e&&n({caseId:t,classification:{category:e.category.replace("cat_","").replace("_"," "),subcategory:e.subcategory.replace("sub_","").replace("_"," "),confidence:85,reasoning:"Based on keywords in the case title and summary"},suggestedActions:[{id:"1",type:"task",title:"Verify provider information",description:"Check demographics",priority:"high"},{id:"2",type:"task",title:"Review case details",description:"Look up in system",priority:"high"},{id:"3",type:"note",title:"Document interaction",description:"Add conversation notes",priority:"medium"}],similarCases:[{caseId:"CS-24123",title:"Similar inquiry from another provider",category:e.category,similarity:82,resolution:"Resolved with information"},{caseId:"CS-24098",title:"Related payment issue",category:"Claims",similarity:71}],slaRiskReason:e.sla.pausedAt?"SLA is currently paused - waiting on provider":void 0})}else n(null)},[t,s,n]);let d=s.find(e=>e.id===t);return(0,a.jsxs)("div",{className:"h-full flex",children:[(0,a.jsx)("div",{className:"w-96 border-r border-slate-200 bg-white flex flex-col",children:(0,a.jsx)(w,{})}),(0,a.jsx)("div",{className:"flex-1 bg-slate-50 overflow-auto",children:d?(0,a.jsx)(W,{caseData:d}):(0,a.jsx)("div",{className:"h-full flex items-center justify-center text-slate-500",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("svg",{className:"w-16 h-16 mx-auto mb-4 opacity-20",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,a.jsx)("p",{className:"text-sm",children:"Select a case to view details"})]})})})]})}},96246:function(e,s,t){"use strict";t.d(s,{Q5:function(){return d},qE:function(){return n}});var a=t(57437),i=t(2265),l=t(27954),r=t(93448);let n=i.forwardRef((e,s)=>{let{className:t,...i}=e;return(0,a.jsx)(l.fC,{ref:s,className:(0,r.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...i})});n.displayName=l.fC.displayName,i.forwardRef((e,s)=>{let{className:t,...i}=e;return(0,a.jsx)(l.Ee,{ref:s,className:(0,r.cn)("aspect-square h-full w-full",t),...i})}).displayName=l.Ee.displayName;let d=i.forwardRef((e,s)=>{let{className:t,...i}=e;return(0,a.jsx)(l.NY,{ref:s,className:(0,r.cn)("flex h-full w-full items-center justify-center rounded-full bg-slate-100 text-slate-600 text-sm font-medium",t),...i})});d.displayName=l.NY.displayName},79820:function(e,s,t){"use strict";t.d(s,{Ol:function(){return n},SZ:function(){return c},Zb:function(){return r},aY:function(){return o},ll:function(){return d}});var a=t(57437),i=t(2265),l=t(93448);let r=i.forwardRef((e,s)=>{let{className:t,...i}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("rounded-lg border border-slate-200 bg-white shadow-card",t),...i})});r.displayName="Card";let n=i.forwardRef((e,s)=>{let{className:t,...i}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-4",t),...i})});n.displayName="CardHeader";let d=i.forwardRef((e,s)=>{let{className:t,...i}=e;return(0,a.jsx)("h3",{ref:s,className:(0,l.cn)("font-semibold text-slate-900 leading-none tracking-tight",t),...i})});d.displayName="CardTitle";let c=i.forwardRef((e,s)=>{let{className:t,...i}=e;return(0,a.jsx)("p",{ref:s,className:(0,l.cn)("text-sm text-slate-500",t),...i})});c.displayName="CardDescription";let o=i.forwardRef((e,s)=>{let{className:t,...i}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("p-4 pt-0",t),...i})});o.displayName="CardContent",i.forwardRef((e,s)=>{let{className:t,...i}=e;return(0,a.jsx)("div",{ref:s,className:(0,l.cn)("flex items-center p-4 pt-0",t),...i})}).displayName="CardFooter"},31366:function(e,s,t){"use strict";t.d(s,{Z:function(){return m}});var a=t(57437),i=t(2265);t(54887);var l=t(37053),r=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,s)=>{let t=(0,l.Z8)(`Primitive.${s}`),r=i.forwardRef((e,i)=>{let{asChild:l,...r}=e,n=l?t:s;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,a.jsx)(n,{...r,ref:i})});return r.displayName=`Primitive.${s}`,{...e,[s]:r}},{}),n="horizontal",d=["horizontal","vertical"],c=i.forwardRef((e,s)=>{let{decorative:t,orientation:i=n,...l}=e,c=d.includes(i)?i:n;return(0,a.jsx)(r.div,{"data-orientation":c,...t?{role:"none"}:{"aria-orientation":"vertical"===c?c:void 0,role:"separator"},...l,ref:s})});c.displayName="Separator";var o=t(93448);let m=i.forwardRef((e,s)=>{let{className:t,orientation:i="horizontal",decorative:l=!0,...r}=e;return(0,a.jsx)(c,{ref:s,decorative:l,orientation:i,className:(0,o.cn)("shrink-0 bg-slate-200","horizontal"===i?"h-[1px] w-full":"h-full w-[1px]",t),...r})});m.displayName=c.displayName},17168:function(e,s,t){"use strict";t.d(s,{SP:function(){return c},dr:function(){return d},mQ:function(){return n},nU:function(){return o}});var a=t(57437),i=t(2265),l=t(20271),r=t(93448);let n=l.fC,d=i.forwardRef((e,s)=>{let{className:t,...i}=e;return(0,a.jsx)(l.aV,{ref:s,className:(0,r.cn)("inline-flex h-10 items-center justify-center rounded-lg bg-slate-100 p-1 text-slate-500",t),...i})});d.displayName=l.aV.displayName;let c=i.forwardRef((e,s)=>{let{className:t,...i}=e;return(0,a.jsx)(l.xz,{ref:s,className:(0,r.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1.5 text-sm font-medium transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-white data-[state=active]:text-slate-900 data-[state=active]:shadow-sm",t),...i})});c.displayName=l.xz.displayName;let o=i.forwardRef((e,s)=>{let{className:t,...i}=e;return(0,a.jsx)(l.VY,{ref:s,className:(0,r.cn)("mt-2 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2",t),...i})});o.displayName=l.VY.displayName},66749:function(e,s,t){"use strict";t.d(s,{HB:function(){return r}});var a=t(3011);let i=0,l=0,r=(0,a.U)((e,s)=>({assistPanelOpen:!0,assistPanelContext:null,assistPanelLoading:!1,activeModal:null,modalData:null,globalSearchOpen:!1,globalSearchQuery:"",sidebarCollapsed:!1,notifications:[],toasts:[],toggleAssistPanel:()=>e(e=>({assistPanelOpen:!e.assistPanelOpen})),setAssistPanelOpen:s=>e({assistPanelOpen:s}),setAssistContext:s=>e({assistPanelContext:s}),setAssistLoading:s=>e({assistPanelLoading:s}),openModal:(s,t)=>e({activeModal:s,modalData:null!=t?t:null}),closeModal:()=>e({activeModal:null,modalData:null}),toggleGlobalSearch:()=>e(e=>({globalSearchOpen:!e.globalSearchOpen,globalSearchQuery:e.globalSearchOpen?"":e.globalSearchQuery})),setGlobalSearchQuery:s=>e({globalSearchQuery:s}),toggleSidebar:()=>e(e=>({sidebarCollapsed:!e.sidebarCollapsed})),setSidebarCollapsed:s=>e({sidebarCollapsed:s}),addNotification:s=>{let t="notif_".concat(++l),a={...s,id:t,timestamp:new Date().toISOString(),read:!1};e(e=>({notifications:[a,...e.notifications].slice(0,50)}))},removeNotification:s=>e(e=>({notifications:e.notifications.filter(e=>e.id!==s)})),clearNotifications:()=>e({notifications:[]}),addToast:t=>{var a;let l="toast_".concat(++i),r={...t,id:l,duration:null!==(a=t.duration)&&void 0!==a?a:5e3};e(e=>({toasts:[...e.toasts,r]})),r.duration&&r.duration>0&&setTimeout(()=>{s().removeToast(l)},r.duration)},removeToast:s=>e(e=>({toasts:e.toasts.filter(e=>e.id!==s)}))}))}},function(e){e.O(0,[220,685,810,400,548,111,728,210,606,971,117,744],function(){return e(e.s=38435)}),_N_E=e.O()}]);